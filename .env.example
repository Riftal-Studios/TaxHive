# GST Hive Environment Configuration Example
# 
# Copy this file:
# - For development: cp .env.example .env.local
# - For production: cp .env.example .env.production
#
# Security: NEVER commit .env files to version control

# ============================================================================
# CORE CONFIGURATION (Required)
# ============================================================================

# Database Configuration
# Using Supabase (Managed PostgreSQL)
# Get your connection string from: https://supabase.com/dashboard/project/_/settings/database
DATABASE_DB_URL="postgresql://postgres.[project-ref]:[password]@[region].pooler.supabase.com:6543/postgres?pgbouncer=true"
DATABASE_DIRECT_URL="postgresql://postgres.[project-ref]:[password]@[region].supabase.co:5432/postgres"

# Supabase Configuration
# Get these from your Supabase project settings
SUPABASE_URL="https://[project-ref].supabase.co"
SUPABASE_API_KEY="your-supabase-anon-key"

# Authentication (NextAuth.js)
NEXTAUTH_URL="http://localhost:3000"                    # Production: https://gsthive.com
NEXTAUTH_SECRET="development-secret-change-in-prod"     # Generate: openssl rand -base64 64

# Redis Configuration
# Option 1: Connection URL (overrides host/port)
REDIS_URL="redis://localhost:6379"
# Option 2: Separate host/port
REDIS_HOST="localhost"           # Default: localhost
REDIS_PORT="6379"               # Default: 6379
REDIS_PASSWORD=""               # Required in production

# Internal Authentication
CRON_SECRET="development-cron-secret"    # Generate: openssl rand -hex 32

# ============================================================================
# EMAIL CONFIGURATION - Amazon SES (Required)
# ============================================================================

# Email Provider
EMAIL_PROVIDER="console"         # Development: "console" | Production: "ses"
EMAIL_FROM="GST Hive Dev <dev@gsthive.local>"  # Must be verified in SES for production

# AWS SES Credentials (Required for production)
# Get from AWS IAM with SES permissions
AWS_SES_ACCESS_KEY_ID=""
AWS_SES_SECRET_ACCESS_KEY=""
AWS_SES_REGION="ap-south-1"     # Mumbai region recommended

# NextAuth Email Server (SES SMTP for magic links)
# Format: smtp://USERNAME:PASSWORD@email-smtp.REGION.amazonaws.com:587
# Get SMTP credentials from AWS SES Console (different from IAM credentials!)
EMAIL_SERVER=""                  # Example: smtp://AKIA:SECRET@email-smtp.ap-south-1.amazonaws.com:587

# ============================================================================
# OPTIONAL SERVICES
# ============================================================================

# AWS S3 File Storage (Optional)
# Can use same credentials as SES if IAM permissions allow
AWS_ACCESS_KEY_ID=""            # For S3 uploads
AWS_SECRET_ACCESS_KEY=""        # For S3 uploads
AWS_REGION="ap-south-1"         # Default: ap-south-1
AWS_S3_BUCKET=""                # Example: gsthive-uploads

# Exchange Rate APIs (At least one recommended)
EXCHANGE_RATE_API_KEY=""        # https://exchangerate-api.com (Free: 1500 req/month)
CURRENCY_API_KEY=""             # https://currencyapi.com
FIXER_API_KEY=""                # https://fixer.io
RBI_API_KEY=""                  # If you have RBI API access

# Application Settings
NODE_ENV="development"          # Options: development, production, test
PORT="3000"                     # Default: 3000

# ============================================================================
# DEPLOYMENT ONLY (Not needed for local development)
# ============================================================================

# Cloudflare Tunnel (Required for production deployment)
CLOUDFLARE_TUNNEL_TOKEN=""      # Get from Cloudflare Zero Trust dashboard

# ============================================================================
# QUICK SETUP COMMANDS
# ============================================================================

# Generate secure values:
# - Passwords: openssl rand -base64 32
# - Secrets: openssl rand -base64 64  
# - Cron secret: openssl rand -hex 32

# Docker development:
# docker-compose up -d

# Local development:
# npm install && npm run dev

# ============================================================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# ============================================================================

# DEVELOPMENT DEFAULTS:
# - EMAIL_PROVIDER="console" (emails shown in terminal)
# - Basic passwords are fine
# - No AWS/API keys needed

# PRODUCTION REQUIREMENTS:
# - EMAIL_PROVIDER="ses" with valid AWS SES credentials
# - Strong passwords for all services
# - Valid API keys for exchange rates
# - Cloudflare tunnel token
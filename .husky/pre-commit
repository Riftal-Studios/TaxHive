#!/bin/sh

# Unset NODE_ENV to let Next.js handle it automatically
# This prevents build issues when NODE_ENV is manually set
unset NODE_ENV

# Run lint (fast and reliable)
echo "ğŸ” Running ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint failed. Please fix linting errors before committing."
  exit 1
fi

# Note: Build check is skipped in pre-commit to avoid permission issues
# with Docker-created .next directories. CI/CD will catch build errors.

echo "âœ… All checks passed! Proceeding with commit..."
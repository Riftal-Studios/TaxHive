# Cloudflare Tunnel Configuration for taxhive.app
# This file is used when creating the tunnel manually (optional)

tunnel: taxhive-tunnel
credentials-file: /etc/cloudflared/credentials.json

ingress:
  # Main application
  - hostname: taxhive.app
    service: http://app:3000
    originRequest:
      noTLSVerify: true
      connectTimeout: 30s
      
  # WWW redirect
  - hostname: www.taxhive.app
    service: http://app:3000
    originRequest:
      noTLSVerify: true
      connectTimeout: 30s
      
  # Health check endpoint (optional subdomain)
  - hostname: health.taxhive.app
    service: http://app:3000/api/health
    originRequest:
      noTLSVerify: true
      
  # Catch-all rule (required)
  - service: http_status:404